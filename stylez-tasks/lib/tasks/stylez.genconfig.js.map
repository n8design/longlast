{"version":3,"names":[],"mappings":"","sources":["tasks/stylez.genconfig.js"],"sourcesContent":["// const fs = require('fs');\nconst path = require('path');\nconst fs = require('fs');\n\nconst configPath = path.resolve('./src/app/config/stylez.json');\n\nconst patternItem = {\n    title: '',\n    name: '',\n    file: '',\n    category: ''\n};\n\nconst defaultConfig = {\n    patterns: []\n};\n\nconst loadConfig = () => {\n\n    const config = configPath;\n\n    if (fs.existsSync(config)) {\n\n        let fileContent = fs.readFileSync(config, 'utf-8');\n\n        try {\n\n            let fileJson = JSON.parse(fileContent);\n\n            return fileJson;\n\n        } catch (error) {\n\n            console.log(error);\n\n        }\n\n    } else {\n\n        return defaultConfig;\n\n    }\n\n};\n\nconst saveConfig = (newConfig) => {\n\n    const config = configPath;\n\n    try {\n\n        const newConfigContent = JSON.stringify(newConfig, null, 4);\n\n        fs.writeFileSync(config, newConfigContent, 'UTF-8');\n\n    } catch (error) {\n\n        console.log(error);\n\n    }\n\n};\n\nconst showStats = () => {\n    console.log(this);\n};\n\nclass Genconfig {\n\n    static changed(affectedFile) {\n\n        let curConfig = loadConfig();\n\n        let exists = curConfig.patterns.filter(item => {\n\n            return item.file === affectedFile;\n\n        });\n\n        if (exists.length === null) {\n\n            let filename = path.basename(affectedFile);\n\n            // Getting Path Trail\n            let dirTrail = path.dirname(affectedFile).split(path.sep);\n\n            // File Extension\n            let extension = path.extname(affectedFile);\n\n            // create new Pattern Item\n            let curPatternItem = patternItem;\n\n            // define new values for pattern\n            curPatternItem.file = affectedFile;\n            curPatternItem.category = dirTrail.pop();\n            curPatternItem.title = filename.split(extension).shift();\n            curPatternItem.name = filename;\n\n\n            curConfig.patterns.push(curPatternItem);\n\n            saveConfig(curConfig);\n\n            showStats(curConfig);\n\n        } else {\n\n            console.log('Changed Show Stats');\n            showStats(curConfig);\n\n        }\n\n    }\n\n    static added(affectedFile) {\n\n        let curConfig = loadConfig();\n        console.log('ADded', affectedFile);\n\n        showStats(curConfig);\n    }\n\n    static deleted(affectedFile) {\n        let curConfig = loadConfig();\n        console.log('DELETED ::::', affectedFile);\n\n        showStats(curConfig);\n\n    }\n\n}\n\nmodule.exports = Genconfig;"],"file":"stylez.genconfig.js"}