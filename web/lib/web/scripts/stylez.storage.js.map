{"version":3,"sources":["web/scripts/stylez.storage.js"],"names":["_CONSTANTS","require","STORAGE","SessionStorage","category","deviceSize","index","maxIndex","title","curSelected","document","querySelector","dmAtomicFilter","dataset","filter","dmDeviceTypes","size","updates","undefined","defaultSession","_returnDefault","stylezSession","sessionStorage","getItem","_getSelectedCategory","_getSelectedDeviceSize","setItem","JSON","stringify","newStatus","parse","curStatus","categoryFilter","classList","add","click","deviceFilter","currentPatternTitle","textContent","itemSlider","module","exports"],"mappings":";;;;;;AAAA,IAAMA,UAAU,GAAGC,OAAO,CAAC,oBAAD,CAA1B;;AACA,IAAMC,OAAO,GAAG,QAAhB;;IAEMC,c;;;;;;;;;qCAEsB;AACpB,aAAO;AACHC,QAAAA,QAAQ,EAAE,OADP;AAEHC,QAAAA,UAAU,EAAE,MAFT;AAGHC,QAAAA,KAAK,EAAE,IAHJ;AAIHC,QAAAA,QAAQ,EAAE,IAJP;AAKHC,QAAAA,KAAK,EAAE;AALJ,OAAP;AAOH;;;2CAE6B;AAE1B,UAAIC,WAAW,GAAGC,QAAQ,CAACC,aAAT,CAAuBX,UAAU,CAACY,cAAX,GAA4B,WAAnD,CAAlB;;AAEA,UAAIH,WAAW,KAAK,IAAhB,IACAA,WAAW,CAACI,OAAZ,KAAwB,IADxB,IAEAJ,WAAW,CAACI,OAAZ,CAAoBC,MAApB,KAA+B,IAFnC,EAEyC;AAErC,eAAOL,WAAW,CAACI,OAAZ,CAAoBC,MAApB,KAA+B,IAA/B,GAAsCL,WAAW,CAACI,OAAZ,CAAoBC,MAA1D,GAAmE,OAA1E;AAEH,OAND,MAMO;AAEH,eAAO,OAAP;AAEH;AAEJ;;;6CAE+B;AAE5B,UAAIL,WAAW,GAAGC,QAAQ,CAACC,aAAT,CAAuBX,UAAU,CAACe,aAAX,GAA2B,WAAlD,CAAlB;;AAEA,UAAIN,WAAW,KAAK,IAAhB,IACAA,WAAW,CAACI,OAAZ,KAAwB,IADxB,IAEAJ,WAAW,CAACI,OAAZ,CAAoBG,IAApB,KAA6B,IAFjC,EAEuC;AAEnC,eAAOP,WAAW,CAACI,OAAZ,CAAoBG,IAApB,KAA6B,IAA7B,GAAoCP,WAAW,CAACI,OAAZ,CAAoBG,IAAxD,GAA+D,MAAtE;AAA6E;AAEhF,OAND,MAMO;AAEH,eAAO,MAAP;AAEH;AAEJ;;;iCAEmBC,O,EAAS;AAEzB,UAAIA,OAAO,KAAKC,SAAhB,EAA2B;AAEvB,YAAIC,cAAc,GAAG,KAAKC,cAAL,EAArB;;AAEA,YAAIC,aAAa,GAAGC,cAAc,CAACC,OAAf,CAAuBrB,OAAvB,CAApB;;AAEA,YAAImB,aAAa,KAAKH,SAAlB,IACAG,aAAa,KAAK,IADtB,EAC4B;AAExB,eAAKG,oBAAL;;AACA,eAAKC,sBAAL;;AAEAH,UAAAA,cAAc,CAACI,OAAf,CAAuBxB,OAAvB,EAAgCyB,IAAI,CAACC,SAAL,CAAeT,cAAf,CAAhC;AAEH,SARD,MAQO;AAEH,cAAIU,SAAS,GAAGF,IAAI,CAACG,KAAL,CAAWT,aAAX,CAAhB;AAEAQ,UAAAA,SAAS,CAACzB,QAAV,GAAqB,KAAKoB,oBAAL,EAArB;AACAK,UAAAA,SAAS,CAACxB,UAAV,GAAuB,KAAKoB,sBAAL,EAAvB,CALG,CAOH;;AAEA,eAAKD,oBAAL;;AACA,eAAKC,sBAAL;;AAEAH,UAAAA,cAAc,CAACI,OAAf,CAAuBxB,OAAvB,EAAgCyB,IAAI,CAACC,SAAL,CAAeC,SAAf,CAAhC;AAEH;AAEJ,OA9BD,MA8BO;AAEHP,QAAAA,cAAc,CAACI,OAAf,CAAuBxB,OAAvB,EAAgCyB,IAAI,CAACC,SAAL,CAAeX,OAAf,CAAhC;AAEH;AAEJ;;;uCAEyB;AAEtB,UAAIc,SAAS,GAAGT,cAAc,CAACC,OAAf,CAAuBrB,OAAvB,MAAoC,IAApC,GACZyB,IAAI,CAACG,KAAL,CAAWR,cAAc,CAACC,OAAf,CAAuBrB,OAAvB,CAAX,CADY,GACkCC,cAAc,CAACiB,cAAf,EADlD;AAGA,UAAIY,cAAc,GAAGtB,QAAQ,CAACC,aAAT,gCAA8CoB,SAAS,CAAC3B,QAAxD,SAArB;;AAEA,UAAI4B,cAAc,KAAK,IAAnB,IAA2BA,cAAc,KAAKd,SAAlD,EAA6D;AAEzDc,QAAAA,cAAc,CAACC,SAAf,CAAyBC,GAAzB,CAA6B,UAA7B;AACAF,QAAAA,cAAc,CAACG,KAAf;AAEH;;AAED,UAAIC,YAAY,GAAG1B,QAAQ,CAACC,aAAT,8BAA4CoB,SAAS,CAAC1B,UAAtD,SAAnB;;AAEA,UAAI+B,YAAY,KAAK,IAAjB,IAAyBA,YAAY,KAAKlB,SAA9C,EAAyD;AAErDkB,QAAAA,YAAY,CAACH,SAAb,CAAuBC,GAAvB,CAA2B,UAA3B;AACAE,QAAAA,YAAY,CAACD,KAAb;AAEH;;AAED,UAAIE,mBAAmB,GAAG3B,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAA1B;;AAEA,UAAIoB,SAAS,CAACvB,KAAV,KAAoB,IAAxB,EAA8B;AAE1B6B,QAAAA,mBAAmB,CAACC,WAApB,GAAkCP,SAAS,CAACvB,KAA5C;AAEH,OAJD,MAIO;AAEH6B,QAAAA,mBAAmB,CAACC,WAApB,GAAkC,GAAlC;AACA,YAAIC,UAAU,GAAG7B,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAAjB;;AAEA,YAAI4B,UAAU,KAAK,IAAnB,EAAyB;AAErB,cAAIR,SAAS,CAACxB,QAAV,KAAuB,IAA3B,EAAiC;AAC7BgC,YAAAA,UAAU,CAACN,SAAX,CAAqBC,GAArB,CAAyB,MAAzB;AACH;AAEJ;AAEJ;AAEJ;;;uCAEyB;AAEtB,UAAIH,SAAS,GAAGT,cAAc,CAACC,OAAf,CAAuBrB,OAAvB,MAAoC,IAApC,GACZyB,IAAI,CAACG,KAAL,CAAWR,cAAc,CAACC,OAAf,CAAuBrB,OAAvB,CAAX,CADY,GACkCC,cAAc,CAACiB,cAAf,EADlD;AAGA,aAAOW,SAAP;AAEH;;;;;;AAILS,MAAM,CAACC,OAAP,GAAiBtC,cAAjB","sourcesContent":["const _CONSTANTS = require('./stylez.constants');\nconst STORAGE = 'stylez';\n\nclass SessionStorage {\n\n    static _returnDefault() {\n        return {\n            category: 'atoms',\n            deviceSize: 'full',\n            index: null,\n            maxIndex: null,\n            title: null\n        };\n    }\n\n    static _getSelectedCategory() {\n\n        let curSelected = document.querySelector(_CONSTANTS.dmAtomicFilter + '.selected');\n\n        if (curSelected !== null &&\n            curSelected.dataset !== null &&\n            curSelected.dataset.filter !== null) {\n\n            return curSelected.dataset.filter !== null ? curSelected.dataset.filter : 'atoms';\n\n        } else {\n\n            return 'atoms';\n\n        }\n\n    }\n\n    static _getSelectedDeviceSize() {\n\n        let curSelected = document.querySelector(_CONSTANTS.dmDeviceTypes + '.selected');\n\n        if (curSelected !== null &&\n            curSelected.dataset !== null &&\n            curSelected.dataset.size !== null) {\n\n            return curSelected.dataset.size !== null ? curSelected.dataset.size : 'full';;\n\n        } else {\n\n            return 'full';\n\n        }\n\n    }\n\n    static updateStatus(updates) {\n\n        if (updates === undefined) {\n\n            let defaultSession = this._returnDefault();\n\n            let stylezSession = sessionStorage.getItem(STORAGE);\n\n            if (stylezSession === undefined ||\n                stylezSession === null) {\n\n                this._getSelectedCategory();\n                this._getSelectedDeviceSize();\n\n                sessionStorage.setItem(STORAGE, JSON.stringify(defaultSession));\n\n            } else {\n\n                let newStatus = JSON.parse(stylezSession);\n\n                newStatus.category = this._getSelectedCategory();\n                newStatus.deviceSize = this._getSelectedDeviceSize();\n                \n                // newStatus.index = null;\n\n                this._getSelectedCategory();\n                this._getSelectedDeviceSize();\n\n                sessionStorage.setItem(STORAGE, JSON.stringify(newStatus));\n\n            }\n\n        } else {\n\n            sessionStorage.setItem(STORAGE, JSON.stringify(updates));\n\n        }\n\n    }\n\n    static setCurrentFilter() {\n\n        let curStatus = sessionStorage.getItem(STORAGE) !== null ?\n            JSON.parse(sessionStorage.getItem(STORAGE)) : SessionStorage._returnDefault();\n\n        let categoryFilter = document.querySelector(`button[data-filter=\"${curStatus.category}\"]`);\n\n        if (categoryFilter !== null && categoryFilter !== undefined) {\n\n            categoryFilter.classList.add('selected');\n            categoryFilter.click();\n\n        }\n\n        let deviceFilter = document.querySelector(`button[data-size=\"${curStatus.deviceSize}\"]`);\n\n        if (deviceFilter !== null && deviceFilter !== undefined) {\n\n            deviceFilter.classList.add('selected');\n            deviceFilter.click();\n\n        }\n\n        let currentPatternTitle = document.querySelector('.a-filtername');\n\n        if (curStatus.title !== null) {\n\n            currentPatternTitle.textContent = curStatus.title;\n\n        } else {\n\n            currentPatternTitle.textContent = ' ';\n            let itemSlider = document.querySelector('.m-itemslider');\n\n            if (itemSlider !== null) {\n\n                if (curStatus.maxIndex !== null) {\n                    itemSlider.classList.add('show');\n                }\n\n            }\n\n        }\n\n    }\n\n    static getCurrentFilter() {\n\n        let curStatus = sessionStorage.getItem(STORAGE) !== null ?\n            JSON.parse(sessionStorage.getItem(STORAGE)) : SessionStorage._returnDefault();\n\n        return curStatus;\n\n    }\n\n}\n\nmodule.exports = SessionStorage;"],"file":"stylez.storage.js"}