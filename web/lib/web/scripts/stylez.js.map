{"version":3,"sources":["web/scripts/stylez.js"],"names":["_CONSTANTS","require","SessionStorage","Events","Stylez","window","addEventListener","detectStorageChange","CONSTANTS","btnsCatFilter","document","querySelectorAll","dmAtomicFilter","forEach","btn","filterCategories","btnDeviceSelector","dmDeviceTypes","filterDeviceType","setWidth","btnTocs","querySelector","dmFilterTocs","toggleTocs","btnPagers","pagers","pager","changeIndex","setCurrentFilter","renderToc","url","fetch","then","response","status","json","catch","error","console","toc","pattern","_fetchPattern","patternString","data","log","patterns","sort","a","b","file","item","category","undefined","title","tocOutput","innerHTML","ui"],"mappings":"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","sourcesContent":["const _CONSTANTS = require('./stylez.constants');\nconst SessionStorage = require('./stylez.storage');\nconst Events = require('./stylez.events');\n// const Data = require('./styles.data');\n\nexport class Stylez {\n\n    constructor() {\n\n        window.addEventListener('storage', Events.detectStorageChange)\n\n        // init internamels\n        this.CONSTANTS = _CONSTANTS;\n        this.Events = Events;\n\n        // register category filters\n        this.btnsCatFilter = document.querySelectorAll(this.CONSTANTS.dmAtomicFilter);\n        this.btnsCatFilter.forEach((btn) => {\n            btn.addEventListener('click', Events.filterCategories);\n        });\n\n        // register device types\n        this.btnDeviceSelector = document.querySelectorAll(this.CONSTANTS.dmDeviceTypes);\n        this.btnDeviceSelector.forEach((btn) => {\n            btn.addEventListener('click', Events.filterDeviceType);\n        });\n\n        window.addEventListener('resize', Events.setWidth);\n        // set the initial width\n        Events.setWidth(null);\n\n        this.btnTocs = document.querySelector(this.CONSTANTS.dmFilterTocs);\n        if (this.btnTocs !== null && this.btnTocs !== null) {\n\n            this.btnTocs.addEventListener('click', Events.toggleTocs);\n\n        }\n\n        this.btnPagers = document.querySelectorAll(this.CONSTANTS.pagers);\n        this.btnPagers.forEach(pager => {\n\n            pager.addEventListener('click', Events.changeIndex)\n\n        });\n\n        SessionStorage.setCurrentFilter();\n\n        this.renderToc();\n\n    }\n\n    async _fetchPattern() {\n\n        let url = './app/config/stylez.json';\n\n        return await fetch(url)\n            .then((response) => {\n\n                if (response.status === 200) {\n\n                    return response.json();\n\n                } else {\n\n                    throw \"Error current status: \" + response.status + \" - \" + url;\n\n                }\n\n            })\n            .catch(error => {\n\n                console.error('ERROR :::', error);\n\n            })\n\n    }\n\n\n    renderToc() {\n\n        const toc = document.querySelector('.o-tocsinner');\n\n        let pattern = this._fetchPattern();\n\n        let patternString = {};\n\n        pattern.then((data) => {\n\n            console.log(data);\n\n            data.patterns.sort((a, b) => {\n                if (a.file < b.file) {\n                    return -1;\n                }\n                if (a.file > b.file) {\n                    return 1;\n                }\n                return 0;\n            })\n\n            data.patterns.forEach(item => {\n\n                if (patternString[item.category] === undefined) {\n                    patternString[item.category] = \"\";\n                }\n\n                patternString[item.category] += `<li><button data-filter='${item.title}' class='a-toc-toggle'>${item.title}</button></li>`;\n\n            });\n\n            console.log('Patternstring::::', patternString);\n\n            let tocOutput =\n                `<ul><li><h2>Atoms</h2><ol>${patternString['atoms'] }</ol></li></ul>\n            <ul><li><h2>Molecules</h2><ol>${patternString['molecules'] }</ol></li></ul>\n            <ul><li><h2>Organism</h2><ol>${patternString['organism'] }</ol></li></ul>\n            <ul><li><h2>Templates</h2><ol>${patternString['templates'] }</ol></li></ul>\n            <ul><li><h2>Pages</h2><ol>${patternString['pages'] }</ol></li></ul>`;\n\n\n            console.log(tocOutput);\n\n            toc.innerHTML = tocOutput;\n\n        });\n\n\n\n    }\n\n}\n\nconst ui = new Stylez;"],"file":"stylez.js"}